{% extends "base_protected.html" %}

{% block title %}Shorten URL{% endblock %}

{% block content %}
    <h2>Shorten URL</h2>

    {% if let Some(url) = shortened_url %}
        <p>Success! Your URL is available via <a href="{{url}}" target="_blank">{{url}}</a>.</p>
    {% endif %}

    {% if let Some(msg) = error_message %}
        <p>{{msg}}</p>
    {% endif %}

    <form method="post">
        <!-- TODO: CSRF -->
        <label>URL: <input type="text" name="url" value="{{ initial_url }}"></label>
        <input type="submit" value="Shorten">
    </form>
{% endblock %}
